"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Slider=function(){function t(e){_classCallCheck(this,t),this.data=e,this.slider=null,this.sliderBox=null,this.sliderControl=null,this.sliderNav=null,this.timer=null,this.index=0,this.len=this.data.length,this.sliderBoxItemWidth=700}return _createClass(t,[{key:"init",value:function(){this.createUI(),this.setSliderItemBackgroundColor(),this.autoPlayer(),this.addEventHandlerWithSlider(),this.addEventHandlerWithControl(),this.addEventHandlerWithSliderNavItem()}},{key:"autoPlayer",value:function(){var e=this;this.timer=setInterval(function(){e.next(),e.selectSliderNavItem(e.index)},2e3)}},{key:"addEventHandlerWithSlider",value:function(){var e=this;this.slider.onmouseenter=function(){return clearInterval(e.timer)},this.slider.onmouseleave=function(){return e.autoPlayer()}}},{key:"addEventHandlerWithControl",value:function(){var i=this;this.sliderControl.onclick=function(e){var t=(e=e||window.event).target||e.srcElement;"prev"==t.className&&i.prev(),"next"==t.className&&i.next(),i.selectSliderNavItem(i.index)}}},{key:"prev",value:function(){this.index--,-1==this.index&&(this.index=this.len-1),this.sliderBox.style.left=-(this.index*this.sliderBoxItemWidth)+"px"}},{key:"next",value:function(){this.index++,this.index==this.len&&(this.index=0),this.sliderBox.style.left=-(this.index*this.sliderBoxItemWidth)+"px"}},{key:"addEventHandlerWithSliderNavItem",value:function(){var i=this;Array.from(this.sliderNav.children).forEach(function(e,t){e.onclick=function(){i.selectSliderNavItem(t),i.index=t,i.sliderBox.style.left=-(i.index*i.sliderBoxItemWidth)+"px"}})}},{key:"selectSliderNavItem",value:function(e){var t=Array.from(this.sliderNav.children);t.forEach(function(e){return e.classList.remove("active")}),t[e].classList.add("active")}},{key:"createUI",value:function(){this.createSliderNav(),this.createSliderBox(),this.createSliderControl(),this.slider=document.createElement("div"),this.slider.className="slider",this.slider.appendChild(this.sliderBox),this.slider.appendChild(this.sliderControl),this.slider.appendChild(this.sliderNav),document.body.appendChild(this.slider)}},{key:"createSliderBox",value:function(){this.sliderBox=document.createElement("ul"),this.sliderBox.className="slider-box",this.sliderBox.innerHTML=this.data.map(function(e){return'<li class="slider-box-item"><img src='.concat(e,"></li>")}).join("")}},{key:"createSliderControl",value:function(){this.sliderControl=document.createElement("div"),this.sliderControl.className="slider-control",this.sliderControl.innerHTML='<span class="prev">&lt;</span> <span class="next">&gt;</span>'}},{key:"createSliderNav",value:function(){this.sliderNav=document.createElement("ol"),this.sliderNav.className="slider-nav",this.sliderNav.innerHTML=this.data.map(function(e,t){return'<li class="slider-nav-item '.concat(0==t?"active":"",'">').concat(t+1,"</li>\n                ")}).join("")}},{key:"setSliderItemBackgroundColor",value:function(){var t=this;Array.from(this.sliderBox.children).forEach(function(e){return e.style.background=t.getRandomColor()})}},{key:"getRandomColor",value:function(){var e=parseInt(256*Math.random()),t=parseInt(256*Math.random()),i=parseInt(256*Math.random());return"rgb(".concat(e,",").concat(t,",").concat(i,")")}}]),t}();