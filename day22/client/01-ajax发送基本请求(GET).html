<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <button>按钮</button>
    <script>
        /* 1、先获取按钮 */
        let oDiv = document.querySelector("button");

        /* 2、给按钮添加点击事件 */
        oDiv.onclick = function() {
            /* 3、发送网络请求 */
            // [1] 创建请求对象
            let xhr = new XMLHttpRequest();
            // [2] 设置请求对象(请求路径|请求方法|异步)
            /* 参数1：请求方法 */
            /* 参数2：请求路径 */
            /* 参数3：是否发送异步请求，默认就是true */
            xhr.open("GET", "../server/02-get.php", true);
            // [3] 发送网络请求
            xhr.send();
            // [4] 监听网络请求的状态
            /* 只要网络请求的状态发生变化就会执行 */
            xhr.onreadystatechange = function() {
                // console.log(xhr.readyState) /* 获取当前网络请求的状态 */

                /* [5] 当请求完成的时候，应该获取服务器返回的数据(响应体) */
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        let response = xhr.responseText;
                        console.log("服务器返回的数据为：" + response);
                    } else {
                        console.log("失败:", xhr.statusText);
                    }
                    console.log(xhr);
                }
            }
        }
    </script>
</body>

</html>