"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Slider=function(){function t(e){_classCallCheck(this,t),this.data=e,this.slider=null,this.sliderBox=null,this.sliderControl=null,this.sliderNav=null,this.timer=null,this.index=0,this.len=this.data.length,this.sliderBoxItemWidth=700}return _createClass(t,[{key:"init",value:function(){this.createUI(),this.autoPlayer(),this.addEventHandlerWithSlider(),this.addEventHandlerWithControl(),this.addEventHandlerWithSliderNavItem()}},{key:"autoPlayer",value:function(){var e=this;this.timer=setInterval(function(){e.next(),e.selectSliderNavItem(e.index)},2e3)}},{key:"addEventHandlerWithSlider",value:function(){var e=this;this.slider.mouseenter(function(){return clearInterval(e.timer)}),this.slider.mouseleave(function(){return e.autoPlayer()})}},{key:"addEventHandlerWithControl",value:function(){var e=this;$(".prev",this.slider).click(function(){e.prev(),e.selectSliderNavItem(self.index)}),$(".next",this.slider).click(function(){e.next(),e.selectSliderNavItem(self.index)})}},{key:"prev",value:function(){this.index--,-1==this.index&&(this.index=this.len-1),this.sliderBox.css("left",-(this.index*this.sliderBoxItemWidth)+"px")}},{key:"next",value:function(){this.index++,this.index==this.len&&(this.index=0),this.sliderBox.css("left",-(this.index*this.sliderBoxItemWidth)+"px")}},{key:"addEventHandlerWithSliderNavItem",value:function(){var i=this;this.sliderNav.children().each(function(e,t){console.log("item",t,"idx",e),t.onclick=function(){console.log("+++"),i.selectSliderNavItem(e),i.index=e,i.sliderBox.css("left",-(i.index*i.sliderBoxItemWidth)+"px")}})}},{key:"selectSliderNavItem",value:function(e){this.sliderNav.children().eq(e).addClass("active").siblings().removeClass("active")}},{key:"createUI",value:function(){var e=this.data.map(function(e){return'<li class="slider-box-item"><img src='.concat(e,"></li>")}).join(""),t=this.data.map(function(e,t){return'<li class="slider-nav-item '.concat(0==t?"active":"",'">').concat(t+1,"</li>\n                ")}).join("");this.slider=$("\n                    <div class='slider'>\n                        <ul class='slider-box'>\n                            ".concat(e,"\n                        </ul>\n                        <div class='slider-control'>\n                            <span class=\"prev\">&lt;</span> <span class=\"next\">&gt;</span>\n                        </div>\n                        <ol class='slider-nav'>\n                            ").concat(t,"\n                        </ol>\n                    </div>")),$("body").append(this.slider),this.sliderControl=$(".slider-control",this.slider),this.sliderBox=$(".slider-box",this.slider),this.sliderNav=$(".slider-nav",this.slider)}},{key:"setSliderItemBackgroundColor",value:function(){var t=this;Array.from(this.sliderBox.children).forEach(function(e){return e.style.background=t.getRandomColor()})}},{key:"getRandomColor",value:function(){var e=parseInt(256*Math.random()),t=parseInt(256*Math.random()),i=parseInt(256*Math.random());return"rgb(".concat(e,",").concat(t,",").concat(i,")")}}]),t}();